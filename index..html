<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Book Shop</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" media="screen" href="css/main.css" />
  </head>
  <body onload="onInit()">
    <div class="main-content">
      <header>
        <h1>Book Shop</h1>
      </header>
      <div class="filter-container">
        <h2>Filter</h2>
        <table class="filter-table">
          <tr>
            <td><label>Filter by title:</label></td>
            <td><input type="text" class="filterTitle" placeholder="Type to filter by title..." onchange="renderBooks()" /></td>
          </tr>
          <tr>
            <td><label>Filter by info text:</label></td>
            <td><input type="text" class="filterText" placeholder="Type to filter by text..." onchange="renderBooks()" /></td>
          </tr>
          <tr>
            <td><label>Minimum Price:</label></td>
            <td><input type="number" class="minPrice" placeholder="Minimum Price" min="0" onchange="renderBooks()" /></td>
          </tr>
          <tr>
            <td><label>Minimum Reviews:</label></td>
            <td><input type="number" class="minReviews" placeholder="Minimum Reviews" min="0" onchange="renderBooks()" /></td>
          </tr>
          <tr>
            <td><label>Minimum Rating:</label></td>
            <td><input type="number" class="minRating" placeholder="Minimum Rating" min="0" max="5" step="0.1" onchange="renderBooks()" /></td>
          </tr>
          <tr>
            <td>
              <button type="button" class="clear-btn" onclick="clearFilter()">Clear filter values</button>
            </td>
            <td>
              <h2 class="filter-count"></h2>
            </td>
          </tr>
        </table>
      </div>
      <button class="add-new-btn" onclick="onAddOrUpdateBook()">Add book</button>
      <table class="book-list">
        <thead>
          <tr>
            <th>Title</th>
            <th>Price</th>
            <th>Rating</th>
            <th>Reviews</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody class="book-container"></tbody>
      </table>

      <dialog class="book-update">
        <form method="dialog" class="add-book">
          <h2>Book Details</h2>
          <table>
            <tr>
              <td><label>Book Title:</label></td>
              <td><input type="text" class="book-name-txt" autofocus placeholder="Book name" /></td>
            </tr>
            <tr>
              <td><label>Book Price:</label></td>
              <td><input type="number" class="book-price-txt" autofocus placeholder="Book price" /></td>
            </tr>
            <tr>
              <td><label>Book Img URL:</label></td>
              <td><input type="text" class="book-img-url-txt" autofocus placeholder="Book img url" /></td>
            </tr>
            <tr>
              <td><label>Book Info:</label></td>
              <td><textarea class="book-info-txt" rows="4" cols="25" placeholder="Book info"></textarea></td>
            </tr>
          </table>
          <button type="submit" class="add-btn">Update</button>
          <button type="button" class="close-btn" onclick="closeModalUpdate()">x</button>
        </form>
      </dialog>

      <dialog class="book-details">
        <form method="dialog">
          <h2>Book Details</h2>
          <table>
            <tr>
              <td class="book-img"></td>
            </tr>
            <tr>
              <td><label>Book Title:</label></td>
              <td class="book-name-txt"></td>
            </tr>
            <tr>
              <td><label>Book Price:</label></td>
              <td class="book-price-txt"></td>
            </tr>
            <tr>
              <td><label>Book Info:</label></td>
              <td class="book-info-txt"></td>
            </tr>
            <tr>
              <td><label>Book Rating:</label></td>
              <td class="book-rating-txt"></td>
            </tr>
            <tr>
              <td><label>Review Count:</label></td>
              <td class="book-count-review-txt"></td>
            </tr>
          </table>
          <button type="button" onclick="closeModalDetails()">x</button>
        </form>
      </dialog>
      <div class="popup-message"></div>
      <footer>
        <p>Coffee rights &copy;</p>
      </footer>
    </div>
    <script src="services/book.util.js"></script>
    <script src="services/book.services.js"></script>
    <script src="services/storage.services.js"></script>
    <script src="book.controller.js"></script>
  </body>
</html>
